import React, { useEffect, useRef, useState } from 'react'
import { gsap } from 'gsap'
import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin'
gsap.registerPlugin(DrawSVGPlugin)

const MenuButton = (props) => {
    const [click, setClick] = useState(true)
    const tl = useRef(null)
    const box = useRef(null)
    // console.log(props.name)

    useEffect(() => {
        tl.current = gsap.timeline({ reversed: true }).fromTo(
            `#animation-${props.name}`,
            0.2,
            { drawSVG: '%0 %10' },
            {
                scale: 1.3,
                color: '#800080',
                drawSVG: '%90 %100',
                stagger: 0.3,
            }
        )

        return () => {
            tl.current.kill()
        }
    }, [])

    useEffect(() => {
        gsap.to(`#animation-${props.name}`, 0.2, {
            scale: 1.3,
            repeat: 1,
            yoyo: true,
            fill: '#800080',
        })
    }, [])

    const onMouseEnterHandler = () => {
        tl.current.play()
    }
    const onMouseLeaveHandler = () => {
        tl.current.reverse()
    }

    return (
        <svg
            id="Layer_2"
            data-name="Layer 2"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 112.8 133.16"
            id={`animation-${props.name}`}
            className="button__menu"
            onClick={() => setClick(!click)}
            onMouseEnter={onMouseEnterHandler}
            onMouseLeave={onMouseLeaveHandler}
        >
            <title>Untitled-1</title>
            <path
                d="M384.84,349.12l2.12-3.06-.76.83-1.81,2.36L380.72,354q-3.69,4.72-7.47,9.42c-2.54,3.12-5.09,6.23-7.69,9.29l-2,2.3-1,1.14-.32.33-1.13,1.14c-.73.73-1.44,1.38-2.09,1.94,0,0,0,.06-.06,0l0-.09-.1-.19-.2-.36-.37-.72c-.24-.47-.47-.92-.67-1.36s-.39-.85-.54-1.24l-.11-.29,0-.07c0-.05,0,0-.07-.14l-.38-.63L355,372q-3-5.06-5.84-10L346,354.84c-1.85-3.19-3.92-6.56-6-9.92.06-.08.12-.07.1-.07l-.06,0a.08.08,0,0,1,0,0v0h0s0,0,.05-.07l1.14-1.36c3-3.65,5.68-7.34,8.06-10.91a27.8,27.8,0,0,0,4-9.76,22.53,22.53,0,0,0,.53-4.49c.48-2.09.27-4.52-1.31-3.13-.58.82-1.35,2-2.19,3.2s-1.77,2.56-2.7,3.74c-1.82,2.38-3.56,4.19-4.11,3.8-.28-.21.87-1.8,2-3.44-.57-.39-.59-2.18-.39-4.06a14.48,14.48,0,0,1,1.13-4.71c.21-1,1.36-4.23,2.32-7.49a63.35,63.35,0,0,0,1.93-7.51c.77-2.81-1.85-.81-5.19,2.35s-7.63,7.48-10,10.2-1.43-.93-2.31-1.47c-1.62,3.15-3.46,4-5.24,7.07-.14-.1-1.81,1.93-4,4.42-1.06,1.25-2.26,2.6-3.4,3.9l-2.08,2.31c-1.05,1.17-2.11,2.23-3,3.19,0,0-.53.69-2,2.31s-3.87,4.15-7.55,7.84c-.41.41-.74.76-1,1,1.15,1.68,1.57,1.7,1.9,1.71l-.85,0a40.28,40.28,0,0,1,4.19,5.68c1.39,2.13,2.74,4.3,3.86,5.66l-.65.25c1.14,1.39,2.18,2.78,3.18,4.19l1.16,1.69.78,1.19a52.19,52.19,0,0,0,3.22,4.71l-.56.38c1.06,1.59,2.12,3.16,1.84,3.35l-.57.38c.78,1.77,3.48,4.55,2.91,4.93l.57-.38c2.12,3.16,3.91,6,5.53,8.61.81,1.32,1.58,2.59,2.33,3.84l1.11,1.87.14.23.21.35.56.88,1.11,1.77c3.89,6.34,8.26,13.39,12.91,20.13l3.53,5.17,1.79,2.6.9,1.3.46.66s.07.15.11.11l.14-.14.26-.3,8.65-9.61c2.88-3.23,5.78-6.53,8.66-9.82s5.72-6.74,8.44-10.16l2.15-2.77,2.05-2.72c1.35-1.82,2.68-3.62,4-5.42,1.21-1.56,1.87-3.53.13-2.39,1.21-1.55,2.38-3.12,3.57-4.68,2.34-3.14.35-2.18,2.67-5.33l8-12.2c2.13-3.27,4.26-6.51,6.31-9.76l3.11-4.86,1.55-2.43.78-1.22.39-.6a2.59,2.59,0,0,0,.33-.6l-11.27-8.6L400.69,325l-3.95-3.23q-6-5-11.82-10.3c-7.75-7-15.25-14.3-22.69-21.66,4.84,5.59,8.28,10,13.88,14.9-.24.25-.71.74.64,2,3.94,4,8.49,7.93,12.51,11.45,2,1.75,3.89,3.4,5.48,4.9.79.75,1.53,1.45,2.16,2.11l1.41,1.39c.45.46.87.89,1.24,1.29,1,1,1.91,2.15,3.31,3.63a57.75,57.75,0,0,0,6.67,5.83l-6.64-5.1-1,.54c2.46,2,5.07,4.18,7.9,6.46.07.17-.16.39-.28.59l-.43.62-.87,1.24c-.57.83-1.15,1.66-1.72,2.5l-3.46,4.94c-2.26,3.17-4.77,6.64-6.18,8.44L396,357l-2.21,3.14c-1.75.71-.56-1.78,1.69-5.56.63-1,1.31-2.13,2-3.3l2.34-3.69,2.4-3.79,1.18-1.87.57-.91.28-.45c.09-.15.26-.31.08-.41l-5.07-3.73-1.44.62,3,2.34-.85.2c-2.19-1.66-4.26-3.29-6.27-4.9l-3-2.41c-1-.83-2-1.66-3-2.51-4-3.35-8-6.78-12.23-10.62,1.41,1.28,4.26,3.82,5.7,5.06-.22.26-.45.52,1,1.77-5.8-5-12.59-11.68-18.51-16.56-1.59-1.1-1,1,2.95,5.22,4.18,4,7,6.56,11.33,10.37l-.45.52c-2.9-2.54-6.93-6.68-10-9.07-1.64-1.07,2.11,3.39.48,2.32a35.52,35.52,0,0,0-4.45-3.74c4.17,4,10.1,9,14.25,13,1.23,1.53,2.48,3,2,3.56,1.89,1.5,3.65,3,5.27,4.41l1.2,1.07.58.53.28.29c.36.39.69.77,1,1.13,1.16,1.48,1.67,2.7,1.4,3.54v0a7.76,7.76,0,0,0-1.91,2.18l-1,1.53-.24.38-.39.59Z"
                transform="translate(-304.71 -289.79)"
                fill="#e36869"
            />
            <text
                transform="translate(16.15 71.48)"
                font-size="50"
                fill="#454480"
                font-family="Roboto-Regular, Roboto"
            >
                {props.name}
            </text>
        </svg>
    )
}

export default MenuButton
