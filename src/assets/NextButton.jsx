import React, { useEffect, useRef } from 'react'
import { gsap } from 'gsap'
import { Link } from 'react-router-dom'

import { DrawSVGPlugin } from 'gsap/DrawSVGPlugin'
gsap.registerPlugin(DrawSVGPlugin)

const NextButton = (props) => {
    const tl = useRef(null)

    useEffect(() => {
        tl.current = gsap.timeline({ reversed: true }).fromTo(
            '.gallery__button--next',
            0.2,
            { drawSVG: '%0 %10' },
            {
                scale: 1.1,
                color: '#800080',
                drawSVG: '%90 %100',
                stagger: 0.3,
            }
        )

        return () => {
            tl.current.kill()
        }
    }, [])

    useEffect(() => {
        gsap.to('.gallery__button--next-a', 2, {
            opacity: 0.5,
            repeat: -1,
            yoyo: true,
            stagger: { from: 'random', amount: 0.4 },
            repeatDelay: 0.1,
        })
    }, [])

    const onMouseEnterHandler = () => {
        tl.current.play()
    }
    const onMouseLeaveHandler = () => {
        tl.current.reverse()
    }

    const next =
        props.selected === props.animations.length - 1 ? 0 : props.selected + 1
    const nextUrl = `/animation-${next}`
    const handleNext = () => {
        props.setSelected(next)
    }

    return (
        <Link to={nextUrl} onClick={handleNext}>
            <svg
                id="Layer_1"
                data-name="Layer 1"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 255 158"
                className="gallery__button--next"
                onMouseEnter={onMouseEnterHandler}
                onMouseLeave={onMouseLeaveHandler}
            >
                <title>Untitled-1</title>
                {/* <rect class="cls-1" width="255" height="158" /> */}
                <path
                    className="gallery__button--next-a"
                    d="M444.92,314.55l2.05-.66,2.09-.59A64.78,64.78,0,0,0,432,319.36a136.91,136.91,0,0,0-14.54,8.8c-4.47,3-8.64,5.9-12.71,8.3A51.83,51.83,0,0,1,393,341.85a39.1,39.1,0,0,1-4,.2,56.67,56.67,0,0,1-10.52,1.59,25.8,25.8,0,0,1-4.48-.2l-1-.15c-.3-.07-.61-.1-.9-.19a16.09,16.09,0,0,1-1.75-.5,8.05,8.05,0,0,0-3.77.09L365,343l-.68.16c-1,0-2.52.24-2.51,1.31a16.83,16.83,0,0,0,2.36,2.8c.93,1,1.77,1.82,1.43,2.42-.17.3-1-.19-1.79-.74a4,4,0,0,1-2.85,1.06,4.46,4.46,0,0,1-3-.62,14.35,14.35,0,0,1-4.27-2.57,42.42,42.42,0,0,1-3.78-3.75c-.55-.77-1-.59-1.44.18a9.31,9.31,0,0,0-.47,4.34,21,21,0,0,0,1.63,6.29,20.32,20.32,0,0,0,3.17,5.16c1,1.28.8,1.63.18,1.74s-1.61,0-1.94.36a29.65,29.65,0,0,1,3.38,2.74c.49.42,1,.84,1.57,1.25a12.3,12.3,0,0,0,2.06,1.09,17.94,17.94,0,0,0,5.17,2.74,38.22,38.22,0,0,0,9.28,2.32s.42,0,1.47,0c.52,0,1.18,0,2,0s1.86,0,3.07,0c1.61,0,1.59-.39,1.57-.73l0,.68a9.26,9.26,0,0,1,3.13-.57,11.48,11.48,0,0,0,3.06-.48l.12.67c2.93-1.18,6-1.28,8.73-2.54l.22.65c1.44-.45,2.79-1,2.92-.67l.24.64c1.55-.19,4-2,4.27-1.38l-.28-.62c2.69-1.18,5-2.3,7.06-3.31s3.91-1.94,5.72-2.89a84.11,84.11,0,0,0,14.2-9c4.41-3.32,8.53-6.68,12.28-9.28.87-.53,1.42-1.6.19-1.7.9-.52,1.79-1,2.68-1.47,1.79-.88.44-1.39,2.25-2.23A31.92,31.92,0,0,1,458,333a23.4,23.4,0,0,1,5.1-.36,21.1,21.1,0,0,1,2.29.21l1.11.23c.36.07.73.21,1.09.3a20.33,20.33,0,0,1,4.2,1.81,19.27,19.27,0,0,1,3.45,2.61,13,13,0,0,1,2.37,2.94,12.66,12.66,0,0,1,1.31,3,11.48,11.48,0,0,0-.39-3.13,6.76,6.76,0,0,0-2.05-3c.25-.23.74-.69.2-1.25a17.77,17.77,0,0,0-6.21-4.16c-2.25-1-4.28-1.53-5.47-2.34a11.31,11.31,0,0,0-1.51-.93,6.12,6.12,0,0,0-3.16-.54c.49-.06,1,0,1.48-.05a14.18,14.18,0,0,1,1.46,0l0-1a31.12,31.12,0,0,0-6.72-.08,44,44,0,0,0-6.92,1.24l-.33-1c-.71.23-1.41.52-2.11.77-.75-.36-.58-.88.21-1.5a14.58,14.58,0,0,1,3.92-1.95,31.89,31.89,0,0,1,5.68-1.44,47.65,47.65,0,0,1,5.29-.55v-1.36c-.81,0-1.62,0-2.42.07l0-.69a31.55,31.55,0,0,1,19.88,5.25l-2.1-1.3c-.82-.42-1.63-.87-2.2-1.12.15-.31.29-.62-.86-1.12a30.49,30.49,0,0,1,7,4.16,46.66,46.66,0,0,1,6,5.69c.5.43.8.26.7-.49a8.29,8.29,0,0,0-1.88-3.69c-.72-.72-1.36-1.42-2.05-2a24.58,24.58,0,0,0-2-1.62,25.38,25.38,0,0,0-2.12-1.44l-1.16-.72-1.28-.67.31-.61a29,29,0,0,1,4,2.59c1.38,1,2.68,2.14,3.8,3,.61.37.31-.31,0-1s-.75-1.32-.09-1,1.07,1,1.62,1.48,1.12,1,1.71,1.43c-2.86-3.54-7.8-6.61-11.55-8.68-1.16-.89-2.39-1.76-2.16-2.38-3.55-1.12-6.76-2-9.79-2.64s-5.49-1.27-7.81-1.91c-.78-.29-3-.12-5.59.38A61.89,61.89,0,0,0,444.92,314.55Z"
                    transform="translate(-322 -230)"
                    fill="#e36869"
                    stroke="#e36869"
                    strokeWidth="1px"
                />
                <path
                    className="gallery__button--next-a"
                    d="M454.35,280.9l2.28-.81,2.33-.72a78.56,78.56,0,0,0-19.13,7.38,140.68,140.68,0,0,0-16.64,10.65c-10.25,7.53-19.39,15.08-28.49,19.92-1.24.44-3.7,1.27-4.92,1.61-2.19,1.07-4.52,2.26-6.74,3.23-1.1.53-2.26,1-3.39,1.47s-2.3.93-3.47,1.31-2.32.77-3.47,1.16-2.29.68-3.41.9a49.59,49.59,0,0,1-6.37,1.13,10.89,10.89,0,0,0-2.75.72,12.9,12.9,0,0,0-1.24.6c-.38.18-.74.38-1.08.58-1.38.85-2.33,1.56-2.33,1.56-1.14.47-2.6,1.55-1.66,2.45.54.19,1.29.43,2.13.67s1.77.39,2.63.58a12.26,12.26,0,0,1,2.28.59c.59.21,1,.45,1,.79,0,.17-.31.26-.77.31s-1.08,0-1.69-.06c0,.66-1.06,1.7-2.29,2.36a10.89,10.89,0,0,1-1.9.85,3.13,3.13,0,0,1-1.46.17,13.15,13.15,0,0,1-2.2.26c-1,0-2.31.05-3.57-.08-2.57-.16-5.14-.77-6-.78-2-.55-1.19,1.77,1.75,4.82.74.7,1.59,1.44,2.5,2.19s1.94,1.34,3,2a25.92,25.92,0,0,0,5.82,2.57c3.33,1.12-.18,1.7-.35,2.71a31.36,31.36,0,0,1,4.42.57,13.44,13.44,0,0,0,4.4.24c0,.19,2.65.3,5.89.07a58,58,0,0,0,9.49-1.53l.32-.13,1.06-.41c1-.39,2.6-.87,4.94-1.71,1.57-.55,1.45-.87,1.33-1.19l.24.64a9,9,0,0,1,3-1.49,13.71,13.71,0,0,0,3-1.37l.28.62a27.54,27.54,0,0,1,4.3-2.46,27.34,27.34,0,0,0,4.14-2.39l.34.59c1.38-.81,2.71-1.64,2.89-1.36l.36.58a13.07,13.07,0,0,0,2.52-1.57c.78-.59,1.43-1,1.62-.74l-.38-.57,12.55-8.47a147.22,147.22,0,0,0,14.84-11l7.07-5.78c2.32-1.83,4.61-3.57,6.87-5.17,1-.61,1.75-1.83.35-1.79,1.05-.65,2.13-1.23,3.19-1.82,2.13-1.12.59-1.47,2.76-2.56a43.5,43.5,0,0,1,12.9-5.17,34.88,34.88,0,0,1,6.52-.8h2l.34,0,.68.05a9.29,9.29,0,0,1,1.38.17,11.31,11.31,0,0,1,1.39.26,22.56,22.56,0,0,1,9.77,4.77,13.29,13.29,0,0,1,2.63,3.18,8.37,8.37,0,0,1,1,3,7.91,7.91,0,0,0-.1-3.1,6.25,6.25,0,0,0-2.27-3.25c.24-.25.73-.73.09-1.36A21.3,21.3,0,0,0,485,297c-2.84-1-5.37-1.43-6.88-2.18-1.11-.32-2.32-1.47-6-1.12.61-.1,1.21-.1,1.81-.15s1.21-.12,1.81-.1l0-1a43.53,43.53,0,0,0-8.14.44,56.67,56.67,0,0,0-8.18,1.84l-.36-1c-.84.28-1.65.63-2.48,1-1.7-.56.87-2.33,4.88-3.86a32.64,32.64,0,0,1,3.21-1.06c.56-.15,1.12-.33,1.7-.46l1.71-.38a58.26,58.26,0,0,1,6.18-.91l-.07-1.37c-.94.08-1.88.09-2.8.23l-.08-.68a50.3,50.3,0,0,1,6.18-.3c1,0,2,.11,3,.16s2,.27,2.93.41a35.72,35.72,0,0,1,11.34,4.26,27.5,27.5,0,0,0-2.53-1.35l-1.42-.67-1.21-.47c.12-.31.25-.64-1.12-1.15a35.57,35.57,0,0,1,8.43,4.3,38.54,38.54,0,0,1,7.16,6.4c.56.54.86.37.71-.48a5.73,5.73,0,0,0-.21-.77,10.28,10.28,0,0,0-.47-.95,11.9,11.9,0,0,0-1.73-2.45c-.43-.41-.82-.84-1.24-1.19l-1.24-1a27.3,27.3,0,0,0-2.42-1.75,38.31,38.31,0,0,0-5.45-2.93l.27-.63c.71.33,1.5.73,2.33,1.15s1.65,1,2.5,1.51l2.41,1.66c.75.58,1.47,1.12,2.15,1.57s.3-.33-.18-1-1-1.46-.21-1.06c1.33,1,2.53,2.22,4,3.26a31.69,31.69,0,0,0-6.56-5.39,60.85,60.85,0,0,0-7.27-3.84c-1.39-1-2.91-1.69-2.71-2.36-1-.29-2-.49-3-.7s-1.94-.4-2.89-.57l-1.39-.27-1.38-.2c-.92-.14-1.81-.29-2.6-.38l-4.63-.68c-1.47-.26-2.84-.46-4.13-.71-.88-.25-3.38.06-6.19.73l-2.15.55c-.72.21-1.43.45-2.13.67C456.8,280,455.49,280.49,454.35,280.9Z"
                    transform="translate(-322 -230)"
                    fill="#e36869"
                    stroke="#e36869"
                    strokeWidth="1px"
                />
                <path
                    className="gallery__button--next-a"
                    d="M467.46,257.12c1.5-.57,3-1.1,4.58-1.61A113.7,113.7,0,0,0,453,262.57c-6,2.75-11.88,5.8-17.62,9s-11.32,6.65-16.74,10.12S408,288.7,403,291.83c-1.36.63-4.08,1.89-5.45,2.51-4.86,3.14-10,6.86-14.92,10.35s-9.77,6.75-14.07,9.27a12.47,12.47,0,0,0-1.49,1.06,14.13,14.13,0,0,0-1.28,1.13,22.83,22.83,0,0,0-3.63,5.05c-.94,1.1-1.76,2.81-.3,3,.64-.15,1.51-.41,2.47-.69l1.47-.42,1.47-.5a15.35,15.35,0,0,1,2.56-.64c.7-.09,1.18-.08,1.33.24.08.15-.19.39-.63.65s-1.08.52-1.7.79c.28.62-.25,2-1.05,3.26a7.46,7.46,0,0,1-2.59,2.63,13.89,13.89,0,0,1-1.83,1.43c-.9.58-2,1.27-3.15,2a19.58,19.58,0,0,1-1.71,1l-1.58.84a21.15,21.15,0,0,0-2.08,1.22c-2,.9.27,2.07,4.31,2.7.5.09,1,.16,1.56.24s1.09.07,1.65.1c1.12.05,2.28.07,3.43.06a39.32,39.32,0,0,0,6.05-.7c3.23-.66.67,1.58,1,2.53a16.43,16.43,0,0,1,3.86-1.5,12.51,12.51,0,0,0,3.78-1.62,21.51,21.51,0,0,0,5.07-2.16c2.74-1.35,5.8-3.2,7.82-4.47a12,12,0,0,1,1.05-.9c.75-.62,2.07-1.53,3.95-2.87,1.26-.89,1.06-1.17.87-1.45l.39.56c.9-1.44,3.74-2.69,4.77-3.88l.41.55c2-2.35,4.83-3.63,7-5.71l.42.54c1.17-.91,2.35-1.82,2.55-1.55l.42.54c1.37-.63,3.25-3,3.67-2.43l-.42-.54a122.94,122.94,0,0,1,11.69-8.08c4.84-2.72,10-6.05,15.33-9.47s10.82-6.93,16.16-10.06c1.22-.62,2.14-1.86.61-1.84,1.23-.62,2.48-1.25,3.7-1.83,2.44-1.17.78-1.52,3.23-2.65a60.53,60.53,0,0,1,14.12-5.8,40.67,40.67,0,0,1,6.88-1.15,30.87,30.87,0,0,1,6.43.15,25.55,25.55,0,0,1,11,4.34,19.64,19.64,0,0,1,3.9,3.59,15.24,15.24,0,0,1,2.4,4,13.68,13.68,0,0,0-1.46-4.21,10.07,10.07,0,0,0-3.44-3.68c.21-.26.65-.81-.2-1.41A24.18,24.18,0,0,0,500,271.8c-.77-.16-1.51-.4-2.22-.51l-1-.23-1-.17-.92-.2-.9-.17c-.57-.14-1.08-.29-1.54-.44s-1.21-.51-2.16-.72a9.9,9.9,0,0,0-4.12-.09c.63-.11,1.26-.19,1.89-.26s1.26-.15,1.88-.18l-.07-1a48,48,0,0,0-8.5.87,77.85,77.85,0,0,0-8.61,2.19l-.36-1c-.88.32-1.74.68-2.61,1-1.77-.55,1-2.33,5.11-4a55.5,55.5,0,0,1,6.85-2.18c2.35-.58,4.62-1,6.37-1.24,0-.34-.1-1-.14-1.36-1,.11-1.93.21-2.89.38l-.1-.67a47.28,47.28,0,0,1,12.51-.42,38.19,38.19,0,0,1,12.06,3.43c-.68-.29-1.68-.77-2.73-1.16s-2.09-.76-2.81-.94c.1-.33.2-.66-1.25-1.07a38.74,38.74,0,0,1,9.06,3.67,50,50,0,0,1,8.09,5.68c1.23,1,1.2-1.08-2.37-4.44a37.26,37.26,0,0,0-5.39-3.47l-1.34-.69c-.45-.22-.92-.42-1.4-.63-.95-.44-2-.8-3.11-1.2l.22-.65a36.59,36.59,0,0,1,5.17,2.3c.89.48,1.78,1,2.61,1.47l1.22.69c.39.24.76.47,1.12.67.76.34.25-.35-.29-1s-1.14-1.32-.33-1c1.43.94,2.8,1.93,4.33,2.81a35.58,35.58,0,0,0-7.14-4.69,64.1,64.1,0,0,0-7.74-3.29c-1.51-.83-3.12-1.48-3-2.16-2.13-.38-4.18-.64-6.13-.86s-3.7-.36-5.4-.51c-3.39-.3-6.39-.56-9.06-.95a8.38,8.38,0,0,0-2.4.14,35,35,0,0,0-3.82.87C472.76,255.13,469.7,256.26,467.46,257.12Z"
                    transform="translate(-322 -230)"
                    fill="#e36869"
                    stroke="#e36869"
                    strokeWidth="1px"
                />
                <path
                    className="gallery__button--next-a"
                    d="M503.36,247.41c2.13.35,4.26.59,6.37,1a120,120,0,0,0-27.56-3.23,141.79,141.79,0,0,0-27.79,3.21,161.27,161.27,0,0,0-26.27,8.64A176.31,176.31,0,0,0,404.44,270c-2,1.05-5.79,3.39-7.74,4.56a32.68,32.68,0,0,0-2.64,2.15c-.86.77-1.74,1.54-2.63,2.32l-2.66,2.41c-.85.86-1.68,1.76-2.53,2.66l-2.53,2.73c-.84.92-1.7,1.85-2.46,2.8-1.57,1.9-3,3.8-4.41,5.64-2.75,3.66-5.22,7.12-7.54,10.08-1.16,1.49-2.28,2.87-3.38,4.12s-2.19,2.4-3.14,3.34a29.58,29.58,0,0,0-4.48,5.67c-.53.8-.95,1.56-1.24,2.05s-.46.84-.46.84c-1,1.13-2.06,2.84-.43,3.06a28,28,0,0,0,6.28-2.42c2.21-1.08,4.08-2.14,4.51-1.6.21.26-1.16,1.34-2.6,2.28.37.56-.16,2.16-1.16,3.67a9.36,9.36,0,0,1-3.33,3.27,24.1,24.1,0,0,1-7,3.58,26.66,26.66,0,0,1-5,1.09l-1.07.14-.93.05c-.56,0-1,.08-1.29.12-1.5-.05-1.6.46-.79,1.27a8.46,8.46,0,0,0,2.13,1.42,13.72,13.72,0,0,0,1.67.73,14.2,14.2,0,0,0,2,.65,28.29,28.29,0,0,0,9.81.79,32.62,32.62,0,0,0,8.82-2c2.28-.86,2.51-.51,2.2.2s-1.17,1.76-.93,2.22c2.16-1.36,3.86-2.19,5.5-3.12a22.29,22.29,0,0,0,5.05-3.63,9.32,9.32,0,0,0,2-1.42c1.11-.93,2.61-2.27,4.13-3.8a100.51,100.51,0,0,0,8.11-9.32s.25-.46,1-1.54,1.87-2.75,3.62-5.05c1.15-1.52.88-1.73.61-1.94l.54.42c.64-1.93,3.38-4.39,4.33-5.83l.52.45a25,25,0,0,1,3.27-4.11c1.25-1.23,2.62-2.35,3.76-3.7l.46.5c.63-.61,1.26-1.21,1.76-1.63s.92-.61,1-.48l.45.51c1.56-.83,3.8-3.58,4.23-3l-.43-.54,1-.82c.35-.24.7-.47,1-.71l2-1.35c1.3-.85,2.48-1.73,3.73-2.4l3.63-1.95a34.33,34.33,0,0,1,3.55-1.75q2.44-1,5-2.1c1.69-.7,3.48-1.31,5.25-2,.89-.33,1.76-.75,2.69-1.05l2.78-.94c1.87-.63,3.72-1.38,5.66-1.87s3.85-1.2,5.82-1.69,3.94-.92,5.91-1.41c4-.72,7.93-1.53,11.83-1.84,1.72-.12,3.45-.93,1.67-1.49,1.76-.18,3.52-.06,5.27-.08a4.38,4.38,0,0,0,2.65-.51,3.74,3.74,0,0,1,2.67-.39l5.32.13c1.78.09,3.52.37,5.29.55l2.65.31c.87.15,1.73.35,2.6.53,1.73.37,3.47.71,5.19,1.11,6.81,1.79,13.16,4.4,18.12,8a31.75,31.75,0,0,1,6.37,5.91,23.22,23.22,0,0,1,4.63,10.56,19.22,19.22,0,0,1,.2,3.59,14,14,0,0,1-1.56,6,13.59,13.59,0,0,0,2.39-5.39,14.17,14.17,0,0,0-.58-7c.33-.09,1-.27.57-1.63a21.71,21.71,0,0,0-2.82-5.94,29.28,29.28,0,0,0-4.44-5c-3.29-3-6.83-5.22-8.82-7-1.39-1-2.48-2.84-7.64-4.67,1.72.6,3.41,1.23,5.05,1.95l.41-.94A92.69,92.69,0,0,0,501.27,262l.14-1c-1.26-.16-2.5-.43-3.78-.52-.89-.65-.25-1.09,1.38-1.2a57.82,57.82,0,0,1,7.25.47c1.51.22,3.09.59,4.72.91s3.31.64,4.9,1.09c3.2.86,6.2,1.86,8.48,2.69l.51-1.27c-1.22-.5-2.46-1-3.71-1.38l.23-.65a66,66,0,0,1,15.23,7.37,40.65,40.65,0,0,1,12,12l-1-1.53c-.41-.55-.87-1.15-1.33-1.75l-1.43-1.67c-.47-.51-.92-.95-1.26-1.31.23-.23.52-.52-1-1.89a36.69,36.69,0,0,1,8,10.5,44,44,0,0,1,2.58,6.33,47.26,47.26,0,0,1,1.48,6.36c.15.51.26.77.41.76s.33-.28.44-.82a15.83,15.83,0,0,0-.27-6.52,37.74,37.74,0,0,0-3.25-8c-.64-1.2-1.39-2.34-2.18-3.52l-1.34-1.76c-.46-.6-1-1.16-1.51-1.78l.51-.45a35.76,35.76,0,0,1,4.46,6.28,64,64,0,0,1,3.32,7c.49,1,.43-.13.28-1.28s-.37-2.31.21-1.31c.9,2.12,1.51,4.33,2.36,6.53A37.49,37.49,0,0,0,554,279.73c-.5-.88-1-1.75-1.57-2.58l-.83-1.24c-.3-.4-.6-.79-.89-1.19-1.17-1.57-2.36-2.92-3.5-4.2-.66-.93-1.4-1.79-1.87-2.54s-.78-1.27-.56-1.53A117.93,117.93,0,0,0,532.21,258c-3.8-2.29-7.14-4.23-10-6a28.47,28.47,0,0,0-7.72-2.52c-1.85-.43-3.82-.88-5.74-1.27Z"
                    transform="translate(-322 -230)"
                    fill="#e36869"
                    stroke="#e36869"
                    strokeWidth="1px"
                />
            </svg>
        </Link>
    )
}

export default NextButton
